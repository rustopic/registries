# Carbon Framework Definition for Rust
# Carbon is a modern plugin framework for Rust servers with enhanced performance

id: carbon
name: Carbon
version: "2.0.223"
gameId: rust

description: |
  Carbon is a high-performance plugin framework for Rust servers that provides
  extensive customization through C# plugins. It offers improved performance
  over traditional frameworks and includes advanced features for plugin
  management, data storage, and server integration.

# Installation method
installation:
  type: "download"
  method: "carbon.rust"
  
  # Installation command (executed in server console or via RCON)
  command: "carbon.install"
  
  # Alternative: direct download URL pattern
  # The daemon may use this to pre-install Carbon
  downloadUrl: "https://github.com/CarbonCommunity/Carbon.Core/releases/latest/download/Carbon.Rust.zip"
  
  # Installation path (relative to server root)
  # {IDENTITY} placeholder is replaced with SERVER_IDENTITY variable value at runtime
  installPath: "server/{IDENTITY}/carbon"
  
  # Files to extract/install
  files:
    - "Carbon.Rust.dll"
    - "carbon.config.json"
    - "Rust_Data/Managed/"
    
# Version compatibility
compatibility:
  # Minimum Rust server version
  minGameVersion: "2025.12.13"
  
  # Carbon version compatibility
  supportedVersions:
    - "2.0.223"
  
  # Recommended version
  recommended: "2.0.223"

# Framework capabilities
capabilities:
  plugins: true
  hotReload: true
  configFiles: true
  dataStorage: true
  permissions: true
  hooks: true
  performanceOptimized: true

# Framework-specific paths
# {IDENTITY} placeholder is replaced with SERVER_IDENTITY variable value at runtime
paths:
  root: "server/{IDENTITY}/carbon"
  plugins: "server/{IDENTITY}/carbon/plugins"
  config: "server/{IDENTITY}/carbon/config"
  data: "server/{IDENTITY}/carbon/data"
  lang: "server/{IDENTITY}/carbon/lang"
  logs: "server/{IDENTITY}/carbon/logs"

# Framework commands
commands:
  reload:
    all: "carbon.reload *"
    plugin: "carbon.reload {PLUGIN_NAME}"
    
  unload:
    plugin: "carbon.unload {PLUGIN_NAME}"
    
  load:
    plugin: "carbon.load {PLUGIN_NAME}"
    
  version:
    check: "carbon.version"
    
  info:
    plugin: "carbon.info {PLUGIN_NAME}"

# Configuration schema
config:
  file: "carbon.config.json"
  schema:
    type: "object"
    properties:
      Options:
        type: "object"
        properties:
          Modded:
            type: "boolean"
            default: true
          Console:
            type: "object"
            properties:
              Enabled:
                type: "boolean"
                default: true
          Logging:
            type: "object"
            properties:
              Chat:
                type: "boolean"
                default: true
              File:
                type: "boolean"
                default: true
          Performance:
            type: "object"
            properties:
              OptimizeHooks:
                type: "boolean"
                default: true
              CacheResults:
                type: "boolean"
                default: true

